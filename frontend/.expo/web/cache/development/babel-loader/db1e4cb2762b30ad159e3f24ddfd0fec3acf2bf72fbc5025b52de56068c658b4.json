{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty2(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport React, { Component } from 'react';\nimport Animated from 'react-native-reanimated';\nimport { PanGestureHandler, State } from 'react-native-gesture-handler';\nvar add = Animated.add,\n  cond = Animated.cond,\n  diff = Animated.diff,\n  divide = Animated.divide,\n  eq = Animated.eq,\n  event = Animated.event,\n  exp = Animated.exp,\n  lessThan = Animated.lessThan,\n  and = Animated.and,\n  call = Animated.call,\n  block = Animated.block,\n  multiply = Animated.multiply,\n  pow = Animated.pow,\n  set = Animated.set,\n  abs = Animated.abs,\n  clockRunning = Animated.clockRunning,\n  greaterOrEq = Animated.greaterOrEq,\n  lessOrEq = Animated.lessOrEq,\n  sqrt = Animated.sqrt,\n  startClock = Animated.startClock,\n  stopClock = Animated.stopClock,\n  sub = Animated.sub,\n  Clock = Animated.Clock,\n  Value = Animated.Value,\n  onChange = Animated.onChange;\nvar ANIMATOR_PAUSE_CONSECUTIVE_FRAMES = 10;\nvar ANIMATOR_PAUSE_ZERO_VELOCITY = 1;\nvar DEFAULT_SNAP_TENSION = 300;\nvar DEFAULT_SNAP_DAMPING = 0.7;\nvar DEFAULT_GRAVITY_STRENGTH = 400;\nvar DEFAULT_GRAVITY_FALLOF = 40;\nfunction sq(x) {\n  return multiply(x, x);\n}\nfunction influenceAreaWithRadius(radius, anchor) {\n  return {\n    left: (anchor.x || 0) - radius,\n    right: (anchor.x || 0) + radius,\n    top: (anchor.y || 0) - radius,\n    bottom: (anchor.y || 0) + radius\n  };\n}\nfunction snapTo(target, snapPoints, best, clb, dragClb) {\n  var dist = new Value(0);\n  var snap = function snap(pt) {\n    return [set(best.tension, pt.tension || DEFAULT_SNAP_TENSION), set(best.damping, pt.damping || DEFAULT_SNAP_DAMPING), set(best.x, pt.x || 0), set(best.y, pt.y || 0)];\n  };\n  var snapDist = function snapDist(pt) {\n    return add(sq(sub(target.x, pt.x || 0)), sq(sub(target.y, pt.y || 0)));\n  };\n  return [set(dist, snapDist(snapPoints[0]))].concat(_toConsumableArray(snap(snapPoints[0])), _toConsumableArray(snapPoints.map(function (pt) {\n    var newDist = snapDist(pt);\n    return cond(lessThan(newDist, dist), [set(dist, newDist)].concat(_toConsumableArray(snap(pt))));\n  })), [(clb || dragClb) && call([best.x, best.y, target.x, target.y], function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 4),\n      bx = _ref2[0],\n      by = _ref2[1],\n      x = _ref2[2],\n      y = _ref2[3];\n    snapPoints.forEach(function (pt, index) {\n      if ((pt.x === undefined || pt.x === bx) && (pt.y === undefined || pt.y === by)) {\n        clb && clb({\n          nativeEvent: _objectSpread(_objectSpread({}, pt), {}, {\n            index: index\n          })\n        });\n        dragClb && dragClb({\n          nativeEvent: {\n            x: x,\n            y: y,\n            targetSnapPointId: pt.id,\n            state: 'end'\n          }\n        });\n      }\n    });\n  })]);\n}\nfunction springBehavior(dt, target, obj, anchor) {\n  var tension = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 300;\n  var dx = sub(target.x, anchor.x);\n  var ax = divide(multiply(-1, tension, dx), obj.mass);\n  var dy = sub(target.y, anchor.y);\n  var ay = divide(multiply(-1, tension, dy), obj.mass);\n  return {\n    x: set(obj.vx, add(obj.vx, multiply(dt, ax))),\n    y: set(obj.vy, add(obj.vy, multiply(dt, ay)))\n  };\n}\nfunction frictionBehavior(dt, target, obj) {\n  var damping = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.7;\n  var friction = pow(damping, multiply(60, dt));\n  return {\n    x: set(obj.vx, multiply(obj.vx, friction)),\n    y: set(obj.vy, multiply(obj.vy, friction))\n  };\n}\nfunction anchorBehavior(dt, target, obj, anchor) {\n  var dx = sub(anchor.x, target.x);\n  var dy = sub(anchor.y, target.y);\n  return {\n    x: set(obj.vx, divide(dx, dt)),\n    y: set(obj.vy, divide(dy, dt))\n  };\n}\nfunction gravityBehavior(dt, target, obj, anchor) {\n  var strength = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DEFAULT_GRAVITY_STRENGTH;\n  var falloff = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DEFAULT_GRAVITY_FALLOF;\n  var dx = sub(target.x, anchor.x);\n  var dy = sub(target.y, anchor.y);\n  var drsq = add(sq(dx), sq(dy));\n  var dr = sqrt(drsq);\n  var a = divide(multiply(-1, strength, dr, exp(divide(multiply(-0.5, drsq), sq(falloff)))), obj.mass);\n  var div = divide(a, dr);\n  return {\n    x: cond(dr, set(obj.vx, add(obj.vx, multiply(dt, dx, div)))),\n    y: cond(dr, set(obj.vy, add(obj.vy, multiply(dt, dy, div))))\n  };\n}\nfunction bounceBehavior(dt, target, obj, area) {\n  var bounce = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var xnodes = [];\n  var ynodes = [];\n  var flipx = set(obj.vx, multiply(-1, obj.vx, bounce));\n  var flipy = set(obj.vy, multiply(-1, obj.vy, bounce));\n  if (area.left !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.left), lessThan(obj.vx, 0)), flipx));\n  }\n  if (area.right !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.right), lessThan(0, obj.vx)), flipx));\n  }\n  if (area.top !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.top), lessThan(obj.vy, 0)), flipy));\n  }\n  if (area.bottom !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.bottom), lessThan(0, obj.vy)), flipy));\n  }\n  return {\n    x: xnodes,\n    y: ynodes\n  };\n}\nfunction withInfluence(area, target, behavior) {\n  if (!area) {\n    return behavior;\n  }\n  var testLeft = area.left === undefined || lessOrEq(area.left, target.x);\n  var testRight = area.right === undefined || lessOrEq(target.x, area.right);\n  var testTop = area.top === undefined || lessOrEq(area.top, target.y);\n  var testBottom = area.bottom === undefined || lessOrEq(target.y, area.bottom);\n  var testNodes = [testLeft, testRight, testTop, testBottom].filter(function (t) {\n    return t !== true;\n  });\n  var test = and.apply(void 0, _toConsumableArray(testNodes));\n  return {\n    x: cond(test, behavior.x),\n    y: cond(test, behavior.y)\n  };\n}\nfunction withLimits(value, lowerBound, upperBound) {\n  var result = value;\n  if (lowerBound !== undefined) {\n    result = cond(lessThan(value, lowerBound), lowerBound, result);\n  }\n  if (upperBound !== undefined) {\n    result = cond(lessThan(upperBound, value), upperBound, result);\n  }\n  return result;\n}\nvar Interactable = function (_Component) {\n  function Interactable(props) {\n    var _this;\n    _classCallCheck(this, Interactable);\n    _this = _callSuper(this, Interactable, [props]);\n    var gesture = {\n      x: new Value(0),\n      y: new Value(0)\n    };\n    var state = new Value(-1);\n    _this._onGestureEvent = event([{\n      nativeEvent: {\n        translationX: gesture.x,\n        translationY: gesture.y,\n        state: state\n      }\n    }]);\n    var target = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0)\n    };\n    var update = {\n      x: props.animatedValueX,\n      y: props.animatedValueY\n    };\n    var clock = new Clock();\n    var dt = divide(diff(clock), 1000);\n    var obj = {\n      vx: new Value(0),\n      vy: new Value(0),\n      mass: 1\n    };\n    var tossedTarget = {\n      x: add(target.x, multiply(props.dragToss, obj.vx)),\n      y: add(target.y, multiply(props.dragToss, obj.vy))\n    };\n    var permBuckets = [[], [], []];\n    var addSpring = function addSpring(anchor, tension, influence) {\n      var buckets = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : permBuckets;\n      buckets[0].push(withInfluence(influence, target, springBehavior(dt, target, obj, anchor, tension)));\n    };\n    var addFriction = function addFriction(damping, influence) {\n      var buckets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : permBuckets;\n      buckets[1].push(withInfluence(influence, target, frictionBehavior(dt, target, obj, damping)));\n    };\n    var addGravity = function addGravity(anchor, strength, falloff, influence) {\n      var buckets = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : permBuckets;\n      buckets[0].push(withInfluence(influence, target, gravityBehavior(dt, target, obj, anchor, strength, falloff)));\n    };\n    var dragAnchor = {\n      x: new Value(0),\n      y: new Value(0)\n    };\n    var dragBuckets = [[], [], []];\n    if (props.dragWithSpring) {\n      var _props$dragWithSpring = props.dragWithSpring,\n        tension = _props$dragWithSpring.tension,\n        damping = _props$dragWithSpring.damping;\n      addSpring(dragAnchor, tension, null, dragBuckets);\n      addFriction(damping, null, dragBuckets);\n    } else {\n      dragBuckets[0].push(anchorBehavior(dt, target, obj, dragAnchor));\n    }\n    var handleStartDrag = props.onDrag && call([target.x, target.y], function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        x = _ref4[0],\n        y = _ref4[1];\n      return props.onDrag({\n        nativeEvent: {\n          x: x,\n          y: y,\n          state: 'start'\n        }\n      });\n    });\n    var snapBuckets = [[], [], []];\n    var snapAnchor = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0),\n      tension: new Value(DEFAULT_SNAP_TENSION),\n      damping: new Value(DEFAULT_SNAP_DAMPING)\n    };\n    var updateSnapTo = snapTo(tossedTarget, props.snapPoints, snapAnchor, props.onSnap, props.onDrag);\n    addSpring(snapAnchor, snapAnchor.tension, null, snapBuckets);\n    addFriction(snapAnchor.damping, null, snapBuckets);\n    if (props.springPoints) {\n      props.springPoints.forEach(function (pt) {\n        addSpring(pt, pt.tension, pt.influenceArea);\n        if (pt.damping) {\n          addFriction(pt.damping, pt.influenceArea);\n        }\n      });\n    }\n    if (props.gravityPoints) {\n      props.gravityPoints.forEach(function (pt) {\n        var falloff = pt.falloff || DEFAULT_GRAVITY_FALLOF;\n        addGravity(pt, pt.strength, falloff, pt.influenceArea);\n        if (pt.damping) {\n          var influenceArea = pt.influenceArea || influenceAreaWithRadius(1.4 * falloff, pt);\n          addFriction(pt.damping, influenceArea);\n        }\n      });\n    }\n    if (props.frictionAreas) {\n      props.frictionAreas.forEach(function (pt) {\n        addFriction(pt.damping, pt.influenceArea);\n      });\n    }\n    if (props.boundaries) {\n      snapBuckets[0].push(bounceBehavior(dt, target, obj, props.boundaries, props.boundaries.bounce));\n    }\n    var sortBuckets = function sortBuckets(specialBuckets) {\n      return {\n        x: specialBuckets.map(function (b, idx) {\n          return [].concat(_toConsumableArray(permBuckets[idx]), _toConsumableArray(b)).reverse().map(function (b) {\n            return b.x;\n          });\n        }).reduce(function (acc, b) {\n          return acc.concat(b);\n        }, []),\n        y: specialBuckets.map(function (b, idx) {\n          return [].concat(_toConsumableArray(permBuckets[idx]), _toConsumableArray(b)).reverse().map(function (b) {\n            return b.y;\n          });\n        }).reduce(function (acc, b) {\n          return acc.concat(b);\n        }, [])\n      };\n    };\n    var dragBehaviors = sortBuckets(dragBuckets);\n    var snapBehaviors = sortBuckets(snapBuckets);\n    var noMovementFrames = {\n      x: new Value(props.verticalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0),\n      y: new Value(props.horizontalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0)\n    };\n    var stopWhenNeeded = cond(and(greaterOrEq(noMovementFrames.x, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES), greaterOrEq(noMovementFrames.y, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES)), [props.onStop ? cond(clockRunning(clock), call([target.x, target.y], function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        x = _ref6[0],\n        y = _ref6[1];\n      return props.onStop({\n        nativeEvent: {\n          x: x,\n          y: y\n        }\n      });\n    })) : undefined, stopClock(clock)], startClock(clock));\n    var trans = function trans(axis, vaxis, lowerBound, upperBound) {\n      var dragging = new Value(0);\n      var start = new Value(0);\n      var x = target[axis];\n      var vx = obj[vaxis];\n      var anchor = dragAnchor[axis];\n      var drag = gesture[axis];\n      var advance = cond(lessThan(abs(vx), ANIMATOR_PAUSE_ZERO_VELOCITY), x, add(x, multiply(vx, dt)));\n      if (props.boundaries) {\n        advance = withLimits(advance, props.boundaries[lowerBound], props.boundaries[upperBound]);\n      }\n      var last = new Value(Number.MAX_SAFE_INTEGER);\n      var noMoveFrameCount = noMovementFrames[axis];\n      var testMovementFrames = block([onChange(snapAnchor.x, set(last, Number.MAX_SAFE_INTEGER)), onChange(snapAnchor.y, set(last, Number.MAX_SAFE_INTEGER)), cond(eq(advance, last), set(noMoveFrameCount, add(noMoveFrameCount, 1)), [set(last, advance), set(noMoveFrameCount, 0)])]);\n      var step = cond(eq(state, State.ACTIVE), [cond(dragging, 0, [handleStartDrag, startClock(clock), set(dragging, 1), set(start, x)]), set(anchor, add(start, drag)), cond(dt, dragBehaviors[axis])], [cond(dragging, [updateSnapTo, set(dragging, 0)]), cond(dt, snapBehaviors[axis]), testMovementFrames, stopWhenNeeded]);\n      var wrapStep = props.dragEnabled ? cond(props.dragEnabled, step, [set(dragging, 1), stopClock(clock)]) : step;\n      _this._dragging[axis] = dragging;\n      _this._velocity[axis] = vx;\n      var doUpdateAnReturn = update[axis] ? set(update[axis], x) : x;\n      return block([wrapStep, set(x, advance), doUpdateAnReturn]);\n    };\n    _this._dragging = {};\n    _this._velocity = {};\n    _this._position = target;\n    _this._snapAnchor = snapAnchor;\n    _this._transX = trans('x', 'vx', 'left', 'right');\n    _this._transY = trans('y', 'vy', 'top', 'bottom');\n    return _this;\n  }\n  _inherits(Interactable, _Component);\n  return _createClass(Interactable, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        children = _this$props.children,\n        style = _this$props.style,\n        horizontalOnly = _this$props.horizontalOnly,\n        verticalOnly = _this$props.verticalOnly;\n      return React.createElement(PanGestureHandler, {\n        maxPointers: 1,\n        minDist: 10,\n        enabled: this.props.dragEnabled,\n        onGestureEvent: this._onGestureEvent,\n        onHandlerStateChange: this._onGestureEvent\n      }, React.createElement(Animated.View, {\n        style: [style, {\n          transform: [{\n            translateX: verticalOnly ? 0 : this._transX\n          }, {\n            translateY: horizontalOnly ? 0 : this._transY\n          }]\n        }]\n      }, children));\n    }\n  }, {\n    key: \"setVelocity\",\n    value: function setVelocity(_ref7) {\n      var x = _ref7.x,\n        y = _ref7.y;\n      if (x !== undefined) {\n        this._dragging.x.setValue(1);\n        this._velocity.x.setValue(x);\n      }\n      if (y !== undefined) {\n        this._dragging.y.setValue(1);\n        this._velocity.y.setValue(y);\n      }\n    }\n  }, {\n    key: \"snapTo\",\n    value: function snapTo(_ref8) {\n      var index = _ref8.index;\n      var snapPoint = this.props.snapPoints[index];\n      this._snapAnchor.tension.setValue(snapPoint.tension || DEFAULT_SNAP_TENSION);\n      this._snapAnchor.damping.setValue(snapPoint.damping || DEFAULT_SNAP_DAMPING);\n      this._snapAnchor.x.setValue(snapPoint.x || 0);\n      this._snapAnchor.y.setValue(snapPoint.y || 0);\n      this.props.onSnap && this.props.onSnap({\n        nativeEvent: _objectSpread(_objectSpread({}, snapPoint), {}, {\n          index: index\n        })\n      });\n    }\n  }, {\n    key: \"changePosition\",\n    value: function changePosition(_ref9) {\n      var x = _ref9.x,\n        y = _ref9.y;\n      if (x !== undefined) {\n        this._dragging.x.setValue(1);\n        this._position.x.setValue(x);\n      }\n      if (y !== undefined) {\n        this._dragging.x.setValue(1);\n        this._position.y.setValue(y);\n      }\n    }\n  }]);\n}(Component);\n_defineProperty(Interactable, \"defaultProps\", {\n  dragToss: 0.1,\n  dragEnabled: true,\n  initialPosition: {\n    x: 0,\n    y: 0\n  }\n});\nexport default {\n  View: Interactable\n};","map":{"version":3,"names":["React","Component","Animated","PanGestureHandler","State","add","cond","diff","divide","eq","event","exp","lessThan","and","call","block","multiply","pow","set","abs","clockRunning","greaterOrEq","lessOrEq","sqrt","startClock","stopClock","sub","Clock","Value","onChange","ANIMATOR_PAUSE_CONSECUTIVE_FRAMES","ANIMATOR_PAUSE_ZERO_VELOCITY","DEFAULT_SNAP_TENSION","DEFAULT_SNAP_DAMPING","DEFAULT_GRAVITY_STRENGTH","DEFAULT_GRAVITY_FALLOF","sq","x","influenceAreaWithRadius","radius","anchor","left","right","top","y","bottom","snapTo","target","snapPoints","best","clb","dragClb","dist","snap","pt","tension","damping","snapDist","concat","_toConsumableArray","map","newDist","_ref","_ref2","_slicedToArray","bx","by","forEach","index","undefined","nativeEvent","_objectSpread","targetSnapPointId","id","state","springBehavior","dt","obj","arguments","length","dx","ax","mass","dy","ay","vx","vy","frictionBehavior","friction","anchorBehavior","gravityBehavior","strength","falloff","drsq","dr","a","div","bounceBehavior","area","bounce","xnodes","ynodes","flipx","flipy","push","withInfluence","behavior","testLeft","testRight","testTop","testBottom","testNodes","filter","t","test","apply","withLimits","value","lowerBound","upperBound","result","Interactable","_Component","props","_this","_classCallCheck","_callSuper","gesture","_onGestureEvent","translationX","translationY","initialPosition","update","animatedValueX","animatedValueY","clock","tossedTarget","dragToss","permBuckets","addSpring","influence","buckets","addFriction","addGravity","dragAnchor","dragBuckets","dragWithSpring","_props$dragWithSpring","handleStartDrag","onDrag","_ref3","_ref4","snapBuckets","snapAnchor","updateSnapTo","onSnap","springPoints","influenceArea","gravityPoints","frictionAreas","boundaries","sortBuckets","specialBuckets","b","idx","reverse","reduce","acc","dragBehaviors","snapBehaviors","noMovementFrames","verticalOnly","horizontalOnly","stopWhenNeeded","onStop","_ref5","_ref6","trans","axis","vaxis","dragging","start","drag","advance","last","Number","MAX_SAFE_INTEGER","noMoveFrameCount","testMovementFrames","step","ACTIVE","wrapStep","dragEnabled","_dragging","_velocity","doUpdateAnReturn","_position","_snapAnchor","_transX","_transY","_inherits","_createClass","key","render","_this$props","children","style","createElement","maxPointers","minDist","enabled","onGestureEvent","onHandlerStateChange","View","transform","translateX","translateY","setVelocity","_ref7","setValue","_ref8","snapPoint","changePosition","_ref9"],"sources":["C:\\Users\\alexd\\Documents\\InstagramClone\\frontend\\node_modules\\react-native-interactable-reanimated\\lib\\module\\index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Animated from 'react-native-reanimated';\nimport { PanGestureHandler, State } from 'react-native-gesture-handler';\n\nconst {\n  add,\n  cond,\n  diff,\n  divide,\n  eq,\n  event,\n  exp,\n  lessThan,\n  and,\n  call,\n  block,\n  multiply,\n  pow,\n  set,\n  abs,\n  clockRunning,\n  greaterOrEq,\n  lessOrEq,\n  sqrt,\n  startClock,\n  stopClock,\n  sub,\n  Clock,\n  Value,\n  onChange,\n} = Animated;\n\nconst ANIMATOR_PAUSE_CONSECUTIVE_FRAMES = 10;\nconst ANIMATOR_PAUSE_ZERO_VELOCITY = 1;\nconst DEFAULT_SNAP_TENSION = 300;\nconst DEFAULT_SNAP_DAMPING = 0.7;\nconst DEFAULT_GRAVITY_STRENGTH = 400;\nconst DEFAULT_GRAVITY_FALLOF = 40;\n\nfunction sq(x) {\n  return multiply(x, x);\n}\n\nfunction influenceAreaWithRadius(radius, anchor) {\n  return {\n    left: (anchor.x || 0) - radius,\n    right: (anchor.x || 0) + radius,\n    top: (anchor.y || 0) - radius,\n    bottom: (anchor.y || 0) + radius,\n  };\n}\n\nfunction snapTo(target, snapPoints, best, clb, dragClb) {\n  const dist = new Value(0);\n  const snap = pt => [\n    set(best.tension, pt.tension || DEFAULT_SNAP_TENSION),\n    set(best.damping, pt.damping || DEFAULT_SNAP_DAMPING),\n    set(best.x, pt.x || 0),\n    set(best.y, pt.y || 0),\n  ];\n  const snapDist = pt =>\n    add(sq(sub(target.x, pt.x || 0)), sq(sub(target.y, pt.y || 0)));\n  return [\n    set(dist, snapDist(snapPoints[0])),\n    ...snap(snapPoints[0]),\n    ...snapPoints.map(pt => {\n      const newDist = snapDist(pt);\n      return cond(lessThan(newDist, dist), [set(dist, newDist), ...snap(pt)]);\n    }),\n    (clb || dragClb) &&\n      call([best.x, best.y, target.x, target.y], ([bx, by, x, y]) => {\n        snapPoints.forEach((pt, index) => {\n          if (\n            (pt.x === undefined || pt.x === bx) &&\n            (pt.y === undefined || pt.y === by)\n          ) {\n            clb && clb({ nativeEvent: { ...pt, index } });\n            dragClb &&\n              dragClb({\n                nativeEvent: { x, y, targetSnapPointId: pt.id, state: 'end' },\n              });\n          }\n        });\n      }),\n  ];\n}\n\nfunction springBehavior(dt, target, obj, anchor, tension = 300) {\n  const dx = sub(target.x, anchor.x);\n  const ax = divide(multiply(-1, tension, dx), obj.mass);\n  const dy = sub(target.y, anchor.y);\n  const ay = divide(multiply(-1, tension, dy), obj.mass);\n  return {\n    x: set(obj.vx, add(obj.vx, multiply(dt, ax))),\n    y: set(obj.vy, add(obj.vy, multiply(dt, ay))),\n  };\n}\n\nfunction frictionBehavior(dt, target, obj, damping = 0.7) {\n  const friction = pow(damping, multiply(60, dt));\n  return {\n    x: set(obj.vx, multiply(obj.vx, friction)),\n    y: set(obj.vy, multiply(obj.vy, friction)),\n  };\n}\n\nfunction anchorBehavior(dt, target, obj, anchor) {\n  const dx = sub(anchor.x, target.x);\n  const dy = sub(anchor.y, target.y);\n  return {\n    x: set(obj.vx, divide(dx, dt)),\n    y: set(obj.vy, divide(dy, dt)),\n  };\n}\n\nfunction gravityBehavior(\n  dt,\n  target,\n  obj,\n  anchor,\n  strength = DEFAULT_GRAVITY_STRENGTH,\n  falloff = DEFAULT_GRAVITY_FALLOF\n) {\n  const dx = sub(target.x, anchor.x);\n  const dy = sub(target.y, anchor.y);\n  const drsq = add(sq(dx), sq(dy));\n  const dr = sqrt(drsq);\n  const a = divide(\n    multiply(-1, strength, dr, exp(divide(multiply(-0.5, drsq), sq(falloff)))),\n    obj.mass\n  );\n  const div = divide(a, dr);\n  return {\n    x: cond(dr, set(obj.vx, add(obj.vx, multiply(dt, dx, div)))),\n    y: cond(dr, set(obj.vy, add(obj.vy, multiply(dt, dy, div)))),\n  };\n}\n\nfunction bounceBehavior(dt, target, obj, area, bounce = 0) {\n  const xnodes = [];\n  const ynodes = [];\n  const flipx = set(obj.vx, multiply(-1, obj.vx, bounce));\n  const flipy = set(obj.vy, multiply(-1, obj.vy, bounce));\n  if (area.left !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.left), lessThan(obj.vx, 0)), flipx));\n  }\n  if (area.right !== undefined) {\n    xnodes.push(\n      cond(and(eq(target.x, area.right), lessThan(0, obj.vx)), flipx)\n    );\n  }\n  if (area.top !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.top), lessThan(obj.vy, 0)), flipy));\n  }\n  if (area.bottom !== undefined) {\n    xnodes.push(\n      cond(and(eq(target.y, area.bottom), lessThan(0, obj.vy)), flipy)\n    );\n  }\n  return {\n    x: xnodes,\n    y: ynodes,\n  };\n}\n\nfunction withInfluence(area, target, behavior) {\n  if (!area) {\n    return behavior;\n  }\n  const testLeft = area.left === undefined || lessOrEq(area.left, target.x);\n  const testRight = area.right === undefined || lessOrEq(target.x, area.right);\n  const testTop = area.top === undefined || lessOrEq(area.top, target.y);\n  const testBottom =\n    area.bottom === undefined || lessOrEq(target.y, area.bottom);\n  const testNodes = [testLeft, testRight, testTop, testBottom].filter(\n    t => t !== true\n  );\n  const test = and(...testNodes);\n  return {\n    x: cond(test, behavior.x),\n    y: cond(test, behavior.y),\n  };\n}\n\nfunction withLimits(value, lowerBound, upperBound) {\n  let result = value;\n  if (lowerBound !== undefined) {\n    result = cond(lessThan(value, lowerBound), lowerBound, result);\n  }\n  if (upperBound !== undefined) {\n    result = cond(lessThan(upperBound, value), upperBound, result);\n  }\n  return result;\n}\n\nclass Interactable extends Component {\n  static defaultProps = {\n    dragToss: 0.1,\n    dragEnabled: true,\n    initialPosition: { x: 0, y: 0 },\n  };\n\n  constructor(props) {\n    super(props);\n\n    const gesture = { x: new Value(0), y: new Value(0) };\n    const state = new Value(-1);\n\n    this._onGestureEvent = event([\n      {\n        nativeEvent: {\n          translationX: gesture.x,\n          translationY: gesture.y,\n          state: state,\n        },\n      },\n    ]);\n\n    const target = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0),\n    };\n\n    const update = {\n      x: props.animatedValueX,\n      y: props.animatedValueY,\n    };\n\n    const clock = new Clock();\n\n    const dt = divide(diff(clock), 1000);\n\n    const obj = {\n      vx: new Value(0),\n      vy: new Value(0),\n      mass: 1,\n    };\n\n    const tossedTarget = {\n      x: add(target.x, multiply(props.dragToss, obj.vx)),\n      y: add(target.y, multiply(props.dragToss, obj.vy)),\n    };\n\n    const permBuckets = [[], [], []];\n\n    const addSpring = (anchor, tension, influence, buckets = permBuckets) => {\n      buckets[0].push(\n        withInfluence(\n          influence,\n          target,\n          springBehavior(dt, target, obj, anchor, tension)\n        )\n      );\n    };\n\n    const addFriction = (damping, influence, buckets = permBuckets) => {\n      buckets[1].push(\n        withInfluence(\n          influence,\n          target,\n          frictionBehavior(dt, target, obj, damping)\n        )\n      );\n    };\n\n    const addGravity = (\n      anchor,\n      strength,\n      falloff,\n      influence,\n      buckets = permBuckets\n    ) => {\n      buckets[0].push(\n        withInfluence(\n          influence,\n          target,\n          gravityBehavior(dt, target, obj, anchor, strength, falloff)\n        )\n      );\n    };\n\n    const dragAnchor = { x: new Value(0), y: new Value(0) };\n    const dragBuckets = [[], [], []];\n    if (props.dragWithSpring) {\n      const { tension, damping } = props.dragWithSpring;\n      addSpring(dragAnchor, tension, null, dragBuckets);\n      addFriction(damping, null, dragBuckets);\n    } else {\n      dragBuckets[0].push(anchorBehavior(dt, target, obj, dragAnchor));\n    }\n\n    const handleStartDrag =\n      props.onDrag &&\n      call([target.x, target.y], ([x, y]) =>\n        props.onDrag({ nativeEvent: { x, y, state: 'start' } })\n      );\n\n    const snapBuckets = [[], [], []];\n    const snapAnchor = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0),\n      tension: new Value(DEFAULT_SNAP_TENSION),\n      damping: new Value(DEFAULT_SNAP_DAMPING),\n    };\n    const updateSnapTo = snapTo(\n      tossedTarget,\n      props.snapPoints,\n      snapAnchor,\n      props.onSnap,\n      props.onDrag\n    );\n\n    addSpring(snapAnchor, snapAnchor.tension, null, snapBuckets);\n    addFriction(snapAnchor.damping, null, snapBuckets);\n\n    if (props.springPoints) {\n      props.springPoints.forEach(pt => {\n        addSpring(pt, pt.tension, pt.influenceArea);\n        if (pt.damping) {\n          addFriction(pt.damping, pt.influenceArea);\n        }\n      });\n    }\n    if (props.gravityPoints) {\n      props.gravityPoints.forEach(pt => {\n        const falloff = pt.falloff || DEFAULT_GRAVITY_FALLOF;\n        addGravity(pt, pt.strength, falloff, pt.influenceArea);\n        if (pt.damping) {\n          const influenceArea =\n            pt.influenceArea || influenceAreaWithRadius(1.4 * falloff, pt);\n          addFriction(pt.damping, influenceArea);\n        }\n      });\n    }\n    if (props.frictionAreas) {\n      props.frictionAreas.forEach(pt => {\n        addFriction(pt.damping, pt.influenceArea);\n      });\n    }\n    if (props.boundaries) {\n      snapBuckets[0].push(\n        bounceBehavior(\n          dt,\n          target,\n          obj,\n          props.boundaries,\n          props.boundaries.bounce\n        )\n      );\n    }\n\n    // behaviors can go under one of three buckets depending on their priority\n    // we append to each bucket but in Interactable behaviors get added to the\n    // front, so we join in reverse order and then reverse the array.\n    const sortBuckets = specialBuckets => ({\n      x: specialBuckets\n        .map((b, idx) => [...permBuckets[idx], ...b].reverse().map(b => b.x))\n        .reduce((acc, b) => acc.concat(b), []),\n      y: specialBuckets\n        .map((b, idx) => [...permBuckets[idx], ...b].reverse().map(b => b.y))\n        .reduce((acc, b) => acc.concat(b), []),\n    });\n    const dragBehaviors = sortBuckets(dragBuckets);\n    const snapBehaviors = sortBuckets(snapBuckets);\n\n    const noMovementFrames = {\n      x: new Value(\n        props.verticalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0\n      ),\n      y: new Value(\n        props.horizontalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0\n      ),\n    };\n\n    const stopWhenNeeded = cond(\n      and(\n        greaterOrEq(noMovementFrames.x, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES),\n        greaterOrEq(noMovementFrames.y, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES)\n      ),\n      [\n        props.onStop\n          ? cond(\n              clockRunning(clock),\n              call([target.x, target.y], ([x, y]) =>\n                props.onStop({ nativeEvent: { x, y } })\n              )\n            )\n          : undefined,\n        stopClock(clock),\n      ],\n      startClock(clock)\n    );\n\n    const trans = (axis, vaxis, lowerBound, upperBound) => {\n      const dragging = new Value(0);\n      const start = new Value(0);\n      const x = target[axis];\n      const vx = obj[vaxis];\n      const anchor = dragAnchor[axis];\n      const drag = gesture[axis];\n      let advance = cond(\n        lessThan(abs(vx), ANIMATOR_PAUSE_ZERO_VELOCITY),\n        x,\n        add(x, multiply(vx, dt))\n      );\n      if (props.boundaries) {\n        advance = withLimits(\n          advance,\n          props.boundaries[lowerBound],\n          props.boundaries[upperBound]\n        );\n      }\n      const last = new Value(Number.MAX_SAFE_INTEGER);\n      const noMoveFrameCount = noMovementFrames[axis];\n      const testMovementFrames = block([\n        onChange(snapAnchor.x, set(last, Number.MAX_SAFE_INTEGER)),\n        onChange(snapAnchor.y, set(last, Number.MAX_SAFE_INTEGER)),\n        cond(\n          eq(advance, last),\n          set(noMoveFrameCount, add(noMoveFrameCount, 1)),\n          [set(last, advance), set(noMoveFrameCount, 0)]\n        ),\n      ]);\n      const step = cond(\n        eq(state, State.ACTIVE),\n        [\n          cond(dragging, 0, [\n            handleStartDrag,\n            startClock(clock),\n            set(dragging, 1),\n            set(start, x),\n          ]),\n          set(anchor, add(start, drag)),\n          cond(dt, dragBehaviors[axis]),\n        ],\n        [\n          cond(dragging, [updateSnapTo, set(dragging, 0)]),\n          cond(dt, snapBehaviors[axis]),\n          testMovementFrames,\n          stopWhenNeeded,\n        ]\n      );\n      const wrapStep = props.dragEnabled\n        ? cond(props.dragEnabled, step, [set(dragging, 1), stopClock(clock)])\n        : step;\n\n      // export some values to be available for imperative commands\n      this._dragging[axis] = dragging;\n      this._velocity[axis] = vx;\n\n      // update animatedValueX/animatedValueY\n      const doUpdateAnReturn = update[axis] ? set(update[axis], x) : x;\n\n      return block([wrapStep, set(x, advance), doUpdateAnReturn]);\n    };\n\n    // variables to be used to access reanimated values from imperative commands\n    this._dragging = {};\n    this._velocity = {};\n    this._position = target;\n    this._snapAnchor = snapAnchor;\n\n    this._transX = trans('x', 'vx', 'left', 'right');\n    this._transY = trans('y', 'vy', 'top', 'bottom');\n  }\n\n  render() {\n    const { children, style, horizontalOnly, verticalOnly } = this.props;\n    return (\n      <PanGestureHandler\n        maxPointers={1}\n        minDist={10}\n        enabled={this.props.dragEnabled}\n        onGestureEvent={this._onGestureEvent}\n        onHandlerStateChange={this._onGestureEvent}>\n        <Animated.View\n          style={[\n            style,\n            {\n              transform: [\n                { translateX: verticalOnly ? 0 : this._transX },\n                { translateY: horizontalOnly ? 0 : this._transY },\n              ],\n            },\n          ]}>\n          {children}\n        </Animated.View>\n      </PanGestureHandler>\n    );\n  }\n\n  // imperative commands\n  setVelocity({ x, y }) {\n    if (x !== undefined) {\n      this._dragging.x.setValue(1);\n      this._velocity.x.setValue(x);\n    }\n    if (y !== undefined) {\n      this._dragging.y.setValue(1);\n      this._velocity.y.setValue(y);\n    }\n  }\n\n  snapTo({ index }) {\n    const snapPoint = this.props.snapPoints[index];\n    this._snapAnchor.tension.setValue(\n      snapPoint.tension || DEFAULT_SNAP_TENSION\n    );\n    this._snapAnchor.damping.setValue(\n      snapPoint.damping || DEFAULT_SNAP_DAMPING\n    );\n    this._snapAnchor.x.setValue(snapPoint.x || 0);\n    this._snapAnchor.y.setValue(snapPoint.y || 0);\n    this.props.onSnap &&\n      this.props.onSnap({ nativeEvent: { ...snapPoint, index } });\n  }\n\n  changePosition({ x, y }) {\n    if (x !== undefined) {\n      this._dragging.x.setValue(1);\n      this._position.x.setValue(x);\n    }\n    if (y !== undefined) {\n      this._dragging.x.setValue(1);\n      this._position.y.setValue(y);\n    }\n  }\n}\n\nexport default {\n  View: Interactable,\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
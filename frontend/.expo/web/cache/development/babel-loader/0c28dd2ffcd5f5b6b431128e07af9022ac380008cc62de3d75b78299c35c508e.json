{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Platform } from '@unimodules/core';\nimport { PermissionStatus } from 'expo-modules-core';\nfunction convertPermissionStatus(status) {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false\n      };\n  }\n}\nfunction resolvePermissionAsync(_ref) {\n  var _navigator, _navigator$permission;\n  var shouldAsk, _window, _window$Notification, Notification, status, query;\n  return _regeneratorRuntime.async(function resolvePermissionAsync$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        shouldAsk = _ref.shouldAsk;\n        if (Platform.isDOMAvailable) {\n          _context.next = 3;\n          break;\n        }\n        return _context.abrupt(\"return\", convertPermissionStatus('denied'));\n      case 3:\n        _window = window, _window$Notification = _window.Notification, Notification = _window$Notification === void 0 ? {} : _window$Notification;\n        if (!(typeof Notification.requestPermission !== 'undefined')) {\n          _context.next = 13;\n          break;\n        }\n        status = Notification.permission;\n        if (!shouldAsk) {\n          _context.next = 10;\n          break;\n        }\n        _context.next = 9;\n        return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n          var _Notification$request, _Notification$request2;\n          var resolved = false;\n          function resolveOnce(status) {\n            if (!resolved) {\n              resolved = true;\n              resolve(status);\n            }\n          }\n          (_Notification$request = Notification.requestPermission(resolveOnce)) == null ? void 0 : (_Notification$request2 = _Notification$request.then(resolveOnce)) == null ? void 0 : _Notification$request2.catch(reject);\n        }));\n      case 9:\n        status = _context.sent;\n      case 10:\n        return _context.abrupt(\"return\", convertPermissionStatus(status));\n      case 13:\n        if (!(typeof navigator !== 'undefined' && (_navigator = navigator) != null && (_navigator$permission = _navigator.permissions) != null && _navigator$permission.query)) {\n          _context.next = 18;\n          break;\n        }\n        _context.next = 16;\n        return _regeneratorRuntime.awrap(navigator.permissions.query({\n          name: 'notifications'\n        }));\n      case 16:\n        query = _context.sent;\n        return _context.abrupt(\"return\", convertPermissionStatus(query.state));\n      case 18:\n        return _context.abrupt(\"return\", convertPermissionStatus('denied'));\n      case 19:\n      case \"end\":\n        return _context.stop();\n    }\n  }, null, null, null, Promise);\n}\nexport default {\n  addListener: function addListener() {},\n  removeListeners: function removeListeners() {},\n  getPermissionsAsync: function getPermissionsAsync() {\n    return function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", resolvePermissionAsync({\n              shouldAsk: false\n            }));\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, null, null, null, Promise);\n    }();\n  },\n  requestPermissionsAsync: function requestPermissionsAsync(request) {\n    return function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", resolvePermissionAsync({\n              shouldAsk: true\n            }));\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, null, null, null, Promise);\n    }();\n  }\n};","map":{"version":3,"names":["Platform","PermissionStatus","convertPermissionStatus","status","GRANTED","expires","canAskAgain","granted","DENIED","UNDETERMINED","resolvePermissionAsync","_ref","_navigator","_navigator$permission","shouldAsk","_window","_window$Notification","Notification","query","_regeneratorRuntime","async","resolvePermissionAsync$","_context","prev","next","isDOMAvailable","abrupt","window","requestPermission","permission","awrap","Promise","resolve","reject","_Notification$request","_Notification$request2","resolved","resolveOnce","then","catch","sent","navigator","permissions","name","state","stop","addListener","removeListeners","getPermissionsAsync","_callee","_callee$","_context2","requestPermissionsAsync","request","_callee2","_callee2$","_context3"],"sources":["C:\\Users\\alexd\\Documents\\InstagramClone\\frontend\\node_modules\\expo-notifications\\src\\NotificationPermissionsModule.ts"],"sourcesContent":["import { Platform } from '@unimodules/core';\nimport { PermissionStatus } from 'expo-modules-core';\n\nimport {\n  NativeNotificationPermissionsRequest,\n  NotificationPermissionsStatus,\n} from './NotificationPermissions.types';\nimport { NotificationPermissionsModule } from './NotificationPermissionsModule.types';\n\nfunction convertPermissionStatus(\n  status?: NotificationPermission | 'prompt'\n): NotificationPermissionsStatus {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true,\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false,\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n  }\n}\n\nasync function resolvePermissionAsync({\n  shouldAsk,\n}: {\n  shouldAsk: boolean;\n}): Promise<NotificationPermissionsStatus> {\n  if (!Platform.isDOMAvailable) {\n    return convertPermissionStatus('denied');\n  }\n\n  const { Notification = {} } = window as any;\n  if (typeof Notification.requestPermission !== 'undefined') {\n    let status = Notification.permission;\n    if (shouldAsk) {\n      status = await new Promise((resolve, reject) => {\n        let resolved = false;\n        function resolveOnce(status: string) {\n          if (!resolved) {\n            resolved = true;\n            resolve(status);\n          }\n        }\n        // Some browsers require a callback argument and some return a Promise\n        Notification.requestPermission(resolveOnce)\n          ?.then(resolveOnce)\n          ?.catch(reject);\n      });\n    }\n    return convertPermissionStatus(status);\n  } else if (typeof navigator !== 'undefined' && navigator?.permissions?.query) {\n    // TODO(Bacon): Support `push` in the future when it's stable.\n    const query = await navigator.permissions.query({ name: 'notifications' });\n    return convertPermissionStatus(query.state);\n  }\n  // Platforms like iOS Safari don't support Notifications so return denied.\n  return convertPermissionStatus('denied');\n}\n\nexport default {\n  addListener: () => {},\n  removeListeners: () => {},\n  async getPermissionsAsync(): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: false });\n  },\n  async requestPermissionsAsync(\n    request: NativeNotificationPermissionsRequest\n  ): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: true });\n  },\n} as NotificationPermissionsModule;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}